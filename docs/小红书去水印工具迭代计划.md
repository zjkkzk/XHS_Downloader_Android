小红书去水印工具迭代计划：

app主页布局调整为：
- app 底部 tab栏： 下载、任务、设置

【tab1：下载】从上到下分别是：
- 操作按钮。
本程序如果能够智能判断文件类型是视频还是图片（含live图），那么操作按钮就一个：【下载】。要求先调研技术方案，确认可行性。本Android应用原本就提供了识别live图并自动转化为动态图（MVIMG）的设置项。但是目前存在一个问题是会把小红书视频+封面，错误合并为动态图。这里要做改进：常规来说，“live图”和“视频”获取到的都是一张图+一段视频。但是对于视频来说，图片和视频的分辨率一般是不一致的。我们可以按照这个条件做区分：一张图的分辨率（长×宽）和视频的分辨率完全一致，就认为它应该被合成为动态图。否则就分开下载图片和视频就行了。

大型【下载】按钮，是一个圆角矩形，长宽比1:1，占满屏幕宽度，位于首页最中间。点击之后，自动获取剪贴板中的链接，并且自动判断文件类型，自动进行下载。
这么大的按钮，目的是：方便在小窗模式点击操作。下面是历史记录，每一条创建的下载任务都在下方展示下载进度和成功失败。失败的可以一键复制链接或者重试。或者点击跳转到浏览器。

如果调研发现，本程序没法判断文件类型，则我们的方案变成保守版本：让用户自己选。
首先，提供一个输入框，框中右端放一个【粘贴】按钮，清空输入区域内容，重新粘贴内容。
然后，输入框下面，操作按钮提供两个：【下载图片（小字：Live图自动转MVIMG）】【下载视频（小字：封面另存）】。目的是，避免把视频下载成live图的乌龙事件。
输入框+两个操作按钮，打包成一个div，这个div的长宽比，等同于上面的大型【下载】按钮。

在界面上停留的时候，如果检测到剪贴板出现符合需求的内容，【下载/粘贴】按钮旁边要有大气泡提示，显示剪贴板的内容（最多两行）。
提供【粘贴链接】按钮，一键清空输入框内容并粘贴新的内容进来。

【tab2，历史】
是一个分页加载的所有任务历史的列表，可以单条删除，可以清空。
排序按照任务创建时间降序排列。

每个任务cell的构成：
- 任务创建时间
- 当前下载的笔记标题（最多两行，显示不全的以…收尾）
- 该笔记是图文笔记还是视频；图文笔记包含的图片文件数量（live图的一个图片+一个视频要合并为一个MVIMG，因此我希望统计时算一个文件）
- 行右侧放一个【复制】按钮，点击可以重新复制链接；一个【浏览】按钮，点击在浏览器中打开这条笔记。
- 如果该任务超时未下载完成，或下载结束后有下载失败的item，提供【重下】按钮。
- cell底部，100%宽度，放一个下载进度条（下载时、下载后显示）：下载时，先判断本条笔记包含多少个文件，然后按照整体下载进度，在一行中，显示分段式进度条。每个文件跑到100%，整个进度条才能到100%。
- 每个cell要有可视化进度，比如tag显示：排队中/下载中/下载完成/下载失败等（以实际逻辑为准），且各自具备明显的状态色。

【tab3，设置】
把现有app下拉设置改成原生表单，单独放一页
设置里加上【后台监听模式指南>】（打开一个内嵌文本view说明操作步骤）、【开启无障碍权限>】（快速打开设置）、【监听剪贴板并自动创建下载任务开关】

后台监听模式的说明：1. 要获取无障碍权限，获取剪贴板权限；2. 要设置app后台保活，例如小米手机要进入多任务，长按当前app，上锁。
开启此模式后，app监控用户复制内容之后，就读取并识别，判断是不是小红书链接。如果是，无需前台进入应用，app发出本地notification，告诉用户已经创建后台下载任务，队列前方还有几个任务。下载成功和失败都再次提醒。

